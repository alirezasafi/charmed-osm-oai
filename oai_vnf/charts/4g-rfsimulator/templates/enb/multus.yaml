{{- if .Values.distributedMode }}
apiVersion: "k8s.cni.cncf.io/v1"
kind: NetworkAttachmentDefinition 
metadata:
  name: {{ .Values.networks.ranNetName }}
spec:
  config: '{ 
      "cniVersion": "0.3.1",
      "name": "{{ .Values.networks.ranNetName }}",
      "type": "bridge",
      "bridge": "oai-br",
      "isDefaultGateway": true,
      "ipam": {
        "type": "host-local",
        "subnet": {{- cat .Values.networks.ranNetSubnet "/" .Values.networks.ranNetMask | nospace | quote }}
      }
    }'
{{- end }}